<th:block xmlns:th="http://www.thymeleaf.org">
    <form class="app-form"
          th:action="@{__${T(bg.softuni.marketplace.config.WebConfig).URL_USER_PROFILE}__}"
          th:method="patch"
          th:object="${__${T(bg.softuni.marketplace.web.controllers.user.ProfileUserController).USER_PROFILE_ATTRIBUTE_NAME}__}">

        <h1 class="app-form-header" th:text="#{user.profile-form.title(*{username})}"/>

        <hr class="app-hr"/>

        <div class="form-group">
            <label th:for="${#ids.next('email')}" th:text="#{user.profile-form.email}"/>
            <input class="form-control" th:classappend="${#fields.hasErrors('email')}? app-border-error"
                   th:field="*{email}"
                   type="email"/>
            <small class="app-color-error" th:errors="*{email}" th:if="${#fields.hasErrors('email')}"/>
        </div>

        <th:block th:if="${#fields.hasErrors('global')}">
            <ul>
                <li class="app-color-error" th:each="err : ${#fields.errors('global')}" th:text="${err}"/>
            </ul>
        </th:block>

        <hr class="app-hr"/>

        <div class="app-form-actions">
            <button class="btn app-color app-button" onClick="history.go(-1)" th:text="#{user.profile-form.back-button}"
                    type="button"/>
            <button class="btn app-color app-button" th:text="#{user.profile-form.button}" type="submit"/>
        </div>
    </form>
</th:block>
