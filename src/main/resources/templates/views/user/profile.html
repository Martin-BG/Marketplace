<th:block xmlns:th="http://www.thymeleaf.org">
    <form class="app-form"
          th:action="@{__${@thymeleafParamsAdapter.getUrlUserProfile()}__/__*{id}__}"
          th:method="patch"
          th:object="${__${@thymeleafParamsAdapter.getUsersProfileAttributeName()}__}">

        <h1 class="app-form-header" th:text="#{user.profile-form.title(*{username})}"/>

        <hr class="app-hr"/>

        <div class="form-group">
            <label th:for="${#ids.next('email')}" th:text="#{user.profile-form.email}"/>
            <input class="form-control" th:errorclass="app-border-error" th:field="*{email}" type="email"/>
            <small class="app-color-error" th:errors="*{email}" th:if="${#fields.hasErrors('email')}"/>
        </div>

        <th:block th:if="${#fields.hasGlobalErrors()}">
            <ul>
                <li class="app-color-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}"/>
            </ul>
        </th:block>

        <hr class="app-hr"/>

        <div class="app-form-actions">
            <button class="btn app-color app-button" onClick="history.go(-1)" th:text="#{user.profile-form.back-button}"
                    type="button"/>
            <button class="btn app-color app-button" th:text="#{user.profile-form.button}" type="submit"/>
        </div>
    </form>
</th:block>
